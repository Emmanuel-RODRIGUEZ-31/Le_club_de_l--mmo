{% extends 'layout.visiteur.html.twig' %}

{% block content %}
	<div class="container-fluid">
		<div class="row justify-content-center mt-5">
			<div class="container col-8">
				<div id="carouselExampleIndicators" class="carousel carousel-dark slide" data-bs-ride="carousel">
					<div class="carousel-inner">
						<div class="carousel-item active">
							<img src="/assets/images/annonces/{{bien.id}}/{{bien.photo_principale}}" class="d-block img-fluid mx-auto ratio-4x3" alt="Aperçu non disponible">
						</div>
						{% for image in images %}
							<div class="carousel-item">
								<img src="/assets/images/annonces/{{bien.id}}/{{image}}" class="d-block img-fluid mx-auto ratio-4x3" alt="Aperçu non disponible">
							</div>
						{% endfor %}
					</div>
					<button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
						<span class="carousel-control-prev-icon" aria-hidden="true"></span>
						<span class="visually-hidden">Previous</span>
					</button>
					<button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
						<span class="carousel-control-next-icon" aria-hidden="true"></span>
						<span class="visually-hidden">Next</span>
					</button>
				</div>
			</div>
		</div>
		<div class="main-block row justify-content-center mt-5">
			<div class="col-12 col-md-8">
				<div class="row">
					<div class="col-auto">
						<h3>
							<span class="badge badge-secondary bg-secondary text-dark">{{bien.categorie}}</span>
						</h3>
					</div>
					<div class="col-auto">
						<h3>
							<span class="badge badge-secondary bg-primary">{{bien.besoin}}</span>
						</h3>
					</div>
				</div>
				<div class="row">
					<div class="col-6">
						<h4 class="text-primary">
							{{bien.titre}}
						</h4>
						<p>
							{{bien.ville}}
						</p>
						<p>
							{{bien.adresse}}
						</p>
						{% if bien.complement != '' %}
							<p>
								{{bien.complement}}
							</p>
						{% endif %}
					</div>
					{% if bien.besoin == 'Location' %}
						<div class="col-6">
							<h6 class="text-primary">
								<p>{{bien.loyer}}€/mois |
									{{bien.charge}}€ de charges |
									{{bien.caution}}€ de caution
								</p>
							</h6>
							<p>
								Libre le
								{{bien.disponibilite |date("d/m/Y")}}
							</p>
						</div>
					{% elseif bien.besoin =='Achat' %}
						<div class="col-6">
							<h6 class="text-primary">
								{{bien.prix}}
								€
							</h6>
							<p>
								Libre le
								{{ bien.disponibilite|date("m/d/Y") }}
							</p>
						</div>
					{% endif %}
					<div class="row justify-content-between bg-secondary rounded-3 d-none d-md-flex align-items-center py-2">
						<img class="col-1 img-fluid" src="/assets/images/house-plan-scale.png">
						<span class="col-2 text-primary">{{bien.surface}}
							m²</span>
						<img class="col-1 img-fluid" src="/assets/images/plugin.png">
						<span class="col-2 text-primary">{{bien.piece}}
							pièces</span>
						<img class="col-1 img-fluid" src="/assets/images/bed.png">
						<span class="col-2 text-primary">{{bien.chambre}}
							chambres</span>
						<img class="col-1 img-fluid" src="/assets/images/garage.png">
						<span class="col-2 text-primary">{{bien.garage}}</span>
					</div>
					<div class="row mt-4">
						<h5 class="text-primary">Description du bien :</h5>
						<p>
							{{bien.description}}
						</p>
					</div>
					<div class="row">
						<h5 class="text-primary">Détails du bien :</h5>
						<div class='col'>
							<h5>Intérieur</h5>
							<p>Meublé :
								{{bien.est_vide}}</p>
							<ul class="list-unstyled">
								{% if bien.duplex == 'oui' %}
									<li>Duplex</li>
								{% endif %}
								{% if bien.sejour == 'oui' %}
									<li>Séjour</li>
								{% endif %}
								{% if bien.salon == 'oui' %}
									<li>Salon</li>
								{% endif %}
								{% if bien.double_vitrage == 'oui' %}
									<li>Double-vitrage</li>
								{% endif %}
								{% if bien.volets_roulants == 'oui' %}
									<li>Volets-roulants</li>
								{% endif %}
								{% if bien.entree == 'oui' %}
									<li>Entrée</li>
								{% endif %}
								{% if bien.cave == 'oui' %}
									<li>Cave</li>
								{% endif %}
								{% if bien.grenier == 'oui' %}
									<li>Grenier</li>
								{% endif %}
								{% if bien.logia == 'oui' %}
									<li>Logia</li>
								{% endif %}
								{% if bien.cellier == 'oui' %}
									<li>Cellier</li>
								{% endif %}
								{% if bien.balcon == 'oui' %}
									<li>Balcon</li>
								{% endif %}
								{% if bien.cheminee == 'oui' %}
									<li>Cheminée</li>
								{% endif %}
								{% if bien.sous_sol == 'oui' %}
									<li>Sous-sol</li>
								{% endif %}
								{% if bien.interphone == 'oui' %}
									<li>Interphone</li>
								{% endif %}
								{% if bien.digicode == 'oui' %}
									<li>Digicode</li>
								{% endif %}
							</ul>
						</div>

						<div class="col">
							<h5>Extérieur</h5>
							<p>Calme :
								{{bien.calme}}</p>
							<p>Ensoleillé :
								{{bien.ensoleille}}</p>
							<ul class="list-unstyled">
								{% if bien.piscine == 'oui' %}
									<li>Piscine</li>
								{% endif %}
								{% if bien.local_velo == 'oui' %}
									<li>Local vélo</li>
								{% endif %}
								{% if bien.cour == 'oui' %}
									<li>Cour</li>
								{% endif %}
								{% if bien.cour_close == 'oui' %}
									<li>Cour-close</li>
								{% endif %}
								{% if bien.jardin == 'oui' %}
									<li>Jardin</li>
								{% endif %}
								{% if bien.jardin_clos == 'oui' %}
									<li>Jardin-clos</li>
								{% endif %}
								{% if bien.parking == 'oui' %}
									<li>Parking</li>
								{% endif %}
							</ul>
						</div>
						<div class="col">
							<h5>Equipements</h5>
							<p>Cuisine :
								{{bien.cuisine}}</p>
							<p>Chauffage :
								{{bien.chauffage}}</p>
							<p>Revetement au sol :
								{{bien.revetement}}</p>
							<p>DPE-E :
								{{bien.dpe_e}}</p>
							<p>DPE-C :
								{{bien.dpe_c}}</p>
						</div>
						<div class="col">
							{% if bien.residence =='oui' %}
								<h5>Résidence</h5>
								<p>Résidence :
									{{bien.residence}}</p>
								<p>Nombre d'étage :
									{{bien.etage}}</p>
								<p>Ascenseur :
									{{bien.ascenseur}}</p>
								<p>Gardien :
									{{bien.gardien}}</p>
							{% endif %}
						</div>
					</div>
					<div class="row mb-4">
						<h4 class="text-primary">Documents à fournir</h4>
						<ul class="ms-3">
							{% for document in documents %}
								<li>
									{{document.justificatifs}}
								</li>
							{% endfor %}
						</ul>
					</div>
				</div>
			</div>
			<div class="col-3 d-none d-md-block">
				<div class="row justify-content-center">
					{% include 'Components/_form-bien.html.twig' %}
				</div>
				{% if bien.besoin =='Achat' %}
					<div class="row justify-content-center">
						{% include 'Components/_calculator.html.twig' %}
					</div>
				{% endif %}
			</div>
		</div>
	</div>
</div>

{% include 'Components/_footerTop.html.twig' %}

{% endblock %}

{% block javascript %}
	<script src="/assets/js/calculMonthlyFee.js"></script>
{% endblock %}
